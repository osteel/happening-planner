!function(a){a("happeningPlanner",function(){return function(){function a(a,c){var d=[];_.forEach(c,function(b){var c=_.find(a,{id:b});d.push(c)});var e=_.sortBy(d,["start_date","name"]),f=[],g=0;return _.forEach(e,function(a){f.push({happening:a,conflicts:[]});for(var c,d,h=1;;){if(d=e[g+h],"undefined"==typeof d)break;if(c=b(a,d),0===c)break;f[g].conflicts.push({happening:d,level:c}),h++}g++}),f}function b(a,b){return a.end_date>=b.end_date?2:a.end_date>b.start_date?1:0}var c={plan:a};return c}()})}("function"==typeof define&&define.amd?define:function(a,b){"undefined"!=typeof module&&module.exports?module.exports=b(require):window[a]=b()});